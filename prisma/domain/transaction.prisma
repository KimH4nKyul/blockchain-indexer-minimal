model Transaction {
  hash      String              @id
  from      String
  to        String?
  value     BigInt
  input     String
  blockHash String
  block     Block               @relation(fields: [blockHash], references: [hash])
  receipt   TransactionReceipt?
  logs      Log[]
  createdAt DateTime            @default(now())

  @@index([blockHash])
}

model TransactionReceipt {
  transactionHash String  @id
  blockHash       String
  blockNumber     BigInt
  from            String
  to              String?
  gasUsed         BigInt
  status          String // 'success' or 'reverted'
  logs            Log[]

  block       Block       @relation(fields: [blockHash], references: [hash])
  transaction Transaction @relation(fields: [transactionHash], references: [hash])

  createdAt DateTime @default(now())

  @@index([blockHash])
}
